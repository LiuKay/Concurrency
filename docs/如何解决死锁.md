### 如何解决死锁

#### 死锁成立的条件
1. 互斥锁
2. 持有且等待
3. 持有且不可释放
4. 循环等待获取资源

只有破环其中任意一项，则可以破环死锁。
第一个条件，我们本身用的就是互斥锁，所以无法解决
第二个条件，意思是指，在获取了一个资源之后，等待获取另外一个资源，解决办法就是如果获取不到第二个资源立即返回，中断等待
第三个条件，在获取第一个资源后，尝试获取另外一个资源，然而不释放先前获取的资源，导致其他线程也无法获取，解决办法是在获取不到其他资源时，释放已获取的资源
第四个条件，线程T1持有A资源，等待获取B资源，线程T2持有B资源，等待获取A资源，结果导致T1,T2循环等待资源，解决办法可以是将资源排序，按顺序获取